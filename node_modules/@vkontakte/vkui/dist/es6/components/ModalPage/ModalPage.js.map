{"version":3,"sources":["../../../../src/components/ModalPage/ModalPage.tsx"],"names":["React","useContext","useEffect","getClassName","classNames","withInsets","isNumeric","ModalRootContext","usePlatform","ModalPage","props","platform","updateModalHeight","children","className","header","insets","bottom","paddingBottom","defaultProps","settlingHeight"],"mappings":"AAAA,OAAOA,KAAP,IAA+CC,UAA/C,EAA2DC,SAA3D,QAA4E,OAA5E;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,SAASC,SAAT,QAA0B,iBAA1B;AAEA,SAASC,gBAAT,QAAiC,+BAAjC;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;AAmBA,IAAMC,SAA6B,GAAG,SAAhCA,SAAgC,CAACC,KAAD,EAAW;AAC/C,MAAMC,QAAQ,GAAGH,WAAW,EAA5B;;AAD+C,oBAEjBP,UAAU,CAACM,gBAAD,CAFO;AAAA,MAEvCK,iBAFuC,eAEvCA,iBAFuC;;AAAA,MAI7CC,QAJ6C,GAQ3CH,KAR2C,CAI7CG,QAJ6C;AAAA,MAK7CC,SAL6C,GAQ3CJ,KAR2C,CAK7CI,SAL6C;AAAA,MAM7CC,MAN6C,GAQ3CL,KAR2C,CAM7CK,MAN6C;AAAA,MAO7CC,MAP6C,GAQ3CN,KAR2C,CAO7CM,MAP6C;AAU/Cd,EAAAA,SAAS,CAAC,YAAM;AACdU,IAAAA,iBAAiB;AAClB,GAFQ,EAEN,CAACC,QAAD,CAFM,CAAT;AAIA,sBACE;AAAK,IAAA,SAAS,EAAET,UAAU,CAACD,YAAY,CAAC,WAAD,EAAcQ,QAAd,CAAb,EAAsCG,SAAtC;AAA1B,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGC,MADH,CADF,eAKE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAuC,IAAA,KAAK,EAAET,SAAS,CAACU,MAAM,CAACC,MAAR,CAAT,GAA2B;AAAEC,MAAAA,aAAa,EAAEF,MAAM,CAACC;AAAxB,KAA3B,GAA8D;AAA5G,KACGJ,QADH,CADF,CALF,CADF,CADF,CADF;AAiBD,CA/BD;;AAiCAJ,SAAS,CAACU,YAAV,GAAyB;AACvBC,EAAAA,cAAc,EAAE,EADO;AAEvBJ,EAAAA,MAAM,EAAE;AAFe,CAAzB;AAKA,eAAeX,UAAU,CAACI,SAAD,CAAzB","sourcesContent":["import React, { FC, HTMLAttributes, ReactNode, useContext, useEffect } from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport { isNumeric } from '../../lib/utils';\nimport { HasInsets } from '../../types';\nimport { ModalRootContext } from '../ModalRoot/ModalRootContext';\nimport usePlatform from '../../hooks/usePlatform';\n\nexport interface ModalPageProps extends HTMLAttributes<HTMLDivElement>, HasInsets {\n  id: string;\n  /**\n   * Шапка модальной страницы, `<ModalPageHeader />`\n   */\n  header: ReactNode;\n  onClose?(): void;\n  /**\n   * Процент, на который изначально будет открыта модальная страница\n   */\n  settlingHeight?: number;\n  /**\n   * Если высота контента в модальной странице может поменяться, нужно установить это свойство\n   */\n  dynamicContentHeight?: boolean;\n}\n\nconst ModalPage: FC<ModalPageProps> = (props) => {\n  const platform = usePlatform();\n  const { updateModalHeight } = useContext(ModalRootContext);\n  const {\n    children,\n    className,\n    header,\n    insets,\n  } = props;\n\n  useEffect(() => {\n    updateModalHeight();\n  }, [children]);\n\n  return (\n    <div className={classNames(getClassName('ModalPage', platform), className)}>\n      <div className=\"ModalPage__in-wrap\">\n        <div className=\"ModalPage__in\">\n          <div className=\"ModalPage__header\">\n            {header}\n          </div>\n\n          <div className=\"ModalPage__content\">\n            <div className=\"ModalPage__content-in\" style={isNumeric(insets.bottom) ? { paddingBottom: insets.bottom } : null}>\n              {children}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nModalPage.defaultProps = {\n  settlingHeight: 75,\n  insets: {},\n};\n\nexport default withInsets(ModalPage);\n"],"file":"ModalPage.js"}