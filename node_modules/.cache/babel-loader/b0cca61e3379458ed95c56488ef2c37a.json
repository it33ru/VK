{"ast":null,"code":"import React from 'react';\nimport Button from '../Button/Button';\nimport PanelHeaderButton from '../PanelHeaderButton/PanelHeaderButton';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport { IOS } from '../../lib/platform';\nimport { hasReactNode, isNumeric } from '../../lib/utils';\nimport withPlatform from '../../hoc/withPlatform';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport Title from '../Typography/Title/Title';\n\nvar ModalCard = function ModalCard(props) {\n  var insets = props.insets,\n      icon = props.icon,\n      header = props.header,\n      caption = props.caption,\n      children = props.children,\n      actions = props.actions,\n      actionsLayout = props.actionsLayout,\n      onClose = props.onClose,\n      platform = props.platform,\n      className = props.className;\n\n  var onButtonClick = function onButtonClick(event) {\n    var target = event.currentTarget; // eslint-disable-next-line @typescript-eslint/unbound-method\n\n    var action = actions[Number(target.dataset.index)].action;\n    event.persist();\n\n    if (typeof action === 'function') {\n      action(event);\n    }\n  };\n\n  var canShowCloseBtn = platform === IOS;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(getClassName('ModalCard', platform), className)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ModalCard__in\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ModalCard__container\",\n    style: isNumeric(insets.bottom) ? {\n      marginBottom: insets.bottom\n    } : null\n  }, hasReactNode(icon) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ModalCard__icon\"\n  }, icon), hasReactNode(header) && /*#__PURE__*/React.createElement(Title, {\n    level: \"2\",\n    weight: \"semibold\",\n    className: \"ModalCard__header\"\n  }, header), hasReactNode(caption) && /*#__PURE__*/React.createElement(Subhead, {\n    weight: \"regular\",\n    className: \"ModalCard__subheader\"\n  }, caption), children, actions.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames('ModalCard__actions', {\n      'ModalCard__actions--v': actionsLayout === 'vertical'\n    })\n  }, actions.map(function (_ref, i) {\n    var title = _ref.title,\n        mode = _ref.mode;\n    return /*#__PURE__*/React.createElement(Button, {\n      key: i,\n      \"data-index\": i,\n      size: \"xl\",\n      mode: mode,\n      onClick: onButtonClick\n    }, title);\n  })), canShowCloseBtn && /*#__PURE__*/React.createElement(PanelHeaderButton, {\n    className: \"ModalCard__dismiss\",\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(Icon24Dismiss, null)))));\n};\n\nModalCard.defaultProps = {\n  actions: [],\n  actionsLayout: 'horizontal',\n  insets: {}\n};\nexport default withPlatform(withInsets(ModalCard));","map":{"version":3,"sources":["../../../../src/components/ModalCard/ModalCard.tsx"],"names":["ModalCard","insets","icon","header","caption","children","actions","actionsLayout","onClose","platform","className","props","onButtonClick","target","event","action","Number","canShowCloseBtn","classNames","getClassName","marginBottom","bottom","hasReactNode","title","mode","withPlatform","withInsets"],"mappings":"AAAA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,kBAAA;AACA,OAAA,iBAAA,MAAA,wCAAA;AACA,OAAA,YAAA,MAAA,4BAAA;AACA,OAAA,UAAA,MAAA,sBAAA;AACA,OAAA,UAAA,MAAA,sBAAA;AACA,OAAA,aAAA,MAAA,kCAAA;AACA,SAAA,GAAA,QAAA,oBAAA;AACA,SAAA,YAAA,EAAA,SAAA,QAAA,iBAAA;AACA,OAAA,YAAA,MAAA,wBAAA;AAEA,OAAA,OAAA,MAAA,+BAAA;AACA,OAAA,KAAA,MAAA,2BAAA;;AA0CA,IAAMA,SAA6B,GAAG,SAAhCA,SAAgC,CAAA,KAAA,EAAW;AAAA,MAE7CC,MAF6C,GAY3CU,KAZ2C,CAAA,MAAA;AAAA,MAG7CT,IAH6C,GAY3CS,KAZ2C,CAAA,IAAA;AAAA,MAI7CR,MAJ6C,GAY3CQ,KAZ2C,CAAA,MAAA;AAAA,MAK7CP,OAL6C,GAY3CO,KAZ2C,CAAA,OAAA;AAAA,MAM7CN,QAN6C,GAY3CM,KAZ2C,CAAA,QAAA;AAAA,MAO7CL,OAP6C,GAY3CK,KAZ2C,CAAA,OAAA;AAAA,MAQ7CJ,aAR6C,GAY3CI,KAZ2C,CAAA,aAAA;AAAA,MAS7CH,OAT6C,GAY3CG,KAZ2C,CAAA,OAAA;AAAA,MAU7CF,QAV6C,GAY3CE,KAZ2C,CAAA,QAAA;AAAA,MAW7CD,SAX6C,GAY3CC,KAZ2C,CAAA,SAAA;;AAc/C,MAAMC,aAAgC,GAAG,SAAnCA,aAAmC,CAAA,KAAA,EAAuB;AAC9D,QAAMC,MAAM,GAAGC,KAAK,CAD0C,aAC9D,CAD8D,CAE9D;;AACA,QAAMC,MAAM,GAAGT,OAAO,CAACU,MAAM,CAACH,MAAM,CAANA,OAAAA,CAAfP,KAAc,CAAP,CAAPA,CAAf,MAAA;AACAQ,IAAAA,KAAK,CAALA,OAAAA;;AAEA,QAAI,OAAA,MAAA,KAAJ,UAAA,EAAkC;AAChCC,MAAAA,MAAM,CAANA,KAAM,CAANA;AACD;AARH,GAAA;;AAWA,MAAME,eAAe,GAAGR,QAAQ,KAAhC,GAAA;AAEA,SAAA,aACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAES,UAAU,CAACC,YAAY,CAAA,WAAA,EAAb,QAAa,CAAb,EAAA,SAAA;AAA1B,GAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAd,sBAAA;AAAsC,IAAA,KAAK,EAAE,SAAS,CAAClB,MAAM,CAAhB,MAAS,CAAT,GAA2B;AAAEmB,MAAAA,YAAY,EAAEnB,MAAM,CAACoB;AAAvB,KAA3B,GAA6D;AAA1G,GAAA,EACGC,YAAY,CAAZA,IAAY,CAAZA,IAAAA,aAAsB,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EADzB,IACyB,CADzB,EAEGA,YAAY,CAAZA,MAAY,CAAZA,IAAAA,aAAwB,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAO,IAAA,KAAK,EAAZ,GAAA;AAAiB,IAAA,MAAM,EAAvB,UAAA;AAAmC,IAAA,SAAS,EAAC;AAA7C,GAAA,EAF3B,MAE2B,CAF3B,EAGGA,YAAY,CAAZA,OAAY,CAAZA,IAAAA,aAAyB,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAS,IAAA,MAAM,EAAf,SAAA;AAA0B,IAAA,SAAS,EAAC;AAApC,GAAA,EAH5B,OAG4B,CAH5B,EAAA,QAAA,EAOGhB,OAAO,CAAPA,MAAAA,GAAAA,CAAAA,IAAAA,aACD,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAEY,UAAU,CAAA,oBAAA,EAAuB;AAC/C,+BAAyBX,aAAa,KAAK;AADI,KAAvB;AAA1B,GAAA,EAGG,OAAO,CAAP,GAAA,CAAY,UAAA,IAAA,EAAA,CAAA,EAA0D;AAAA,QAAvDgB,KAAuD,GAAA,IAAA,CAAvDA,KAAuD;AAAA,QAAhDC,IAAgD,GAAA,IAAA,CAAhDA,IAAgD;AACrE,WAAA,aACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EADL,CAAA;AAEE,oBAFF,CAAA;AAGE,MAAA,IAAI,EAHN,IAAA;AAIE,MAAA,IAAI,EAJN,IAAA;AAKE,MAAA,OAAO,EAAEZ;AALX,KAAA,EADF,KACE,CADF;AAZN,GAWK,CAHH,CARF,EA2BGK,eAAe,IAAA,aAChB,KAAA,CAAA,aAAA,CAAA,iBAAA,EAAA;AAAmB,IAAA,SAAS,EAA5B,oBAAA;AAAkD,IAAA,OAAO,EAAET;AAA3D,GAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAA,aAAA,EAhCV,IAgCU,CADF,CA5BF,CADF,CADF,CADF;AA3BF,CAAA;;AAoEAR,SAAS,CAATA,YAAAA,GAAyB;AACvBM,EAAAA,OAAO,EADgB,EAAA;AAEvBC,EAAAA,aAAa,EAFU,YAAA;AAGvBN,EAAAA,MAAM,EAAE;AAHe,CAAzBD;AAMA,eAAeyB,YAAY,CAACC,UAAU,CAAtC,SAAsC,CAAX,CAA3B","sourcesContent":["import React, { HTMLAttributes, MouseEventHandler, ReactNode, MouseEvent, FC } from 'react';\nimport Button from '../Button/Button';\nimport PanelHeaderButton from '../PanelHeaderButton/PanelHeaderButton';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport { IOS } from '../../lib/platform';\nimport { hasReactNode, isNumeric } from '../../lib/utils';\nimport withPlatform from '../../hoc/withPlatform';\nimport { HasChildren, HasInsets, HasPlatform } from '../../types';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport Title from '../Typography/Title/Title';\n\nexport interface ModalCardActionInterface {\n  title: string;\n  action?(event: MouseEvent): void;\n  mode?: 'secondary' | 'primary';\n}\n\nexport interface ModalCardProps extends HTMLAttributes<HTMLElement>, HasPlatform, HasChildren, HasInsets {\n  /**\n   * Иконка.\n   *\n   * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n   */\n  icon?: ReactNode;\n\n  /**\n   * Заголовок карточки\n   */\n  header?: ReactNode;\n\n  /**\n   * Подзаголовок\n   */\n  caption?: ReactNode;\n\n  /**\n   * Список кнопок-действий\n   */\n  actions?: ModalCardActionInterface[];\n\n  /**\n   * Тип отображения кнопок: вертикальный или горизонтальный\n   */\n  actionsLayout?: 'vertical' | 'horizontal';\n\n  /**\n   * Будет вызван при закрытии карточки жестом\n   */\n  onClose?(): void;\n}\n\nconst ModalCard: FC<ModalCardProps> = (props) => {\n  const {\n    insets,\n    icon,\n    header,\n    caption,\n    children,\n    actions,\n    actionsLayout,\n    onClose,\n    platform,\n    className,\n  } = props;\n\n  const onButtonClick: MouseEventHandler = (event: MouseEvent) => {\n    const target = event.currentTarget as HTMLButtonElement;\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const action = actions[Number(target.dataset.index)].action;\n    event.persist();\n\n    if (typeof action === 'function') {\n      action(event);\n    }\n  };\n\n  const canShowCloseBtn = platform === IOS;\n\n  return (\n    <div className={classNames(getClassName('ModalCard', platform), className)}>\n      <div className=\"ModalCard__in\">\n        <div className=\"ModalCard__container\" style={isNumeric(insets.bottom) ? { marginBottom: insets.bottom } : null}>\n          {hasReactNode(icon) && <div className=\"ModalCard__icon\">{icon}</div>}\n          {hasReactNode(header) && <Title level=\"2\" weight=\"semibold\" className=\"ModalCard__header\">{header}</Title>}\n          {hasReactNode(caption) && <Subhead weight=\"regular\" className=\"ModalCard__subheader\">{caption}</Subhead>}\n\n          {children}\n\n          {actions.length > 0 &&\n          <div className={classNames('ModalCard__actions', {\n            'ModalCard__actions--v': actionsLayout === 'vertical',\n          })}>\n            {actions.map(({ title, mode }: ModalCardActionInterface, i: number) => {\n              return (\n                <Button\n                  key={i}\n                  data-index={i}\n                  size=\"xl\"\n                  mode={mode}\n                  onClick={onButtonClick}\n                >\n                  {title}\n                </Button>\n              );\n            })}\n          </div>\n          }\n\n          {canShowCloseBtn &&\n          <PanelHeaderButton className=\"ModalCard__dismiss\" onClick={onClose}>\n            <Icon24Dismiss />\n          </PanelHeaderButton>\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nModalCard.defaultProps = {\n  actions: [],\n  actionsLayout: 'horizontal',\n  insets: {},\n};\n\nexport default withPlatform(withInsets(ModalCard));\n"]},"metadata":{},"sourceType":"module"}